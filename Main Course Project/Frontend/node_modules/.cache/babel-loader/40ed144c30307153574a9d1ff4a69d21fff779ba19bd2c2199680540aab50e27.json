{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback, useRef, useEffect } from \"react\";\nexport const useHttpClient = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n  const activeHttpRequests = useref([]);\n  const sendRequest = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\n    setIsLoading(true);\n    const httpAbortCtrll = new AbortController();\n    activeHttpRequests.current.push(httpAbortCtrll);\n    try {\n      const response = await fetch(url, {\n        method,\n        body,\n        headers,\n        signal: httpAbortCtrll.signal\n      });\n      const responseData = await response.json();\n      if (!response.ok) {\n        throw new Error(responseData.message);\n      }\n      return responseData;\n    } catch (err) {\n      setError(err.message);\n    }\n    setIsLoading(false);\n  }, []);\n  const clearError = () => {\n    setError(null);\n  };\n  useEffect(() => {\n    return () => {\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abortCtrl());\n    };\n  }, []);\n  return {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  };\n};\n_s(useHttpClient, \"d0/xpqOzGIFuDmu0uaH+/grQE2c=\");","map":{"version":3,"names":["useState","useCallback","useRef","useEffect","useHttpClient","_s","isLoading","setIsLoading","error","setError","activeHttpRequests","useref","sendRequest","url","method","body","headers","httpAbortCtrll","AbortController","current","push","response","fetch","signal","responseData","json","ok","Error","message","err","clearError","forEach","abortCtrl"],"sources":["H:/MERN/Main Course Project/Frontend/src/shared/hooks/http-hook.js"],"sourcesContent":["import { useState,useCallback,useRef, useEffect } from \"react\";\r\n\r\n\r\nexport const useHttpClient = ()=>{\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState();\r\n\r\n    const activeHttpRequests =useref([]);\r\n\r\n    const sendRequest = useCallback (async(url,method='GET',body=null , headers={})=>{\r\n        setIsLoading(true);\r\n        const httpAbortCtrll= new AbortController();\r\n        activeHttpRequests.current.push(httpAbortCtrll);\r\n\r\n       try {\r\n        const response = await fetch(url,{\r\n            method,\r\n            body,\r\n            headers,\r\n            signal: httpAbortCtrll.signal\r\n        });\r\n\r\n        const responseData = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n                }\r\n                return responseData;\r\n            }catch(err){\r\n                setError(err.message);\r\n            }\r\n\r\nsetIsLoading(false);\r\n\r\n    },[]);\r\n\r\n    const clearError = ()=>{\r\n        setError(null);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abortCtrl());\r\n        };\r\n    },[]);\r\n\r\n    return{isLoading, error, sendRequest, clearError};\r\n};"],"mappings":";AAAA,SAASA,QAAQ,EAACC,WAAW,EAACC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAG9D,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAI;EAAAC,EAAA;EAC7B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,CAAC;EAEpC,MAAMU,kBAAkB,GAAEC,MAAM,CAAC,EAAE,CAAC;EAEpC,MAAMC,WAAW,GAAGX,WAAW,CAAE,OAAMY,GAAG,EAACC,MAAM,GAAC,KAAK,EAACC,IAAI,GAAC,IAAI,EAAGC,OAAO,GAAC,CAAC,CAAC,KAAG;IAC7ET,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMU,cAAc,GAAE,IAAIC,eAAe,CAAC,CAAC;IAC3CR,kBAAkB,CAACS,OAAO,CAACC,IAAI,CAACH,cAAc,CAAC;IAEhD,IAAI;MACH,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACT,GAAG,EAAC;QAC7BC,MAAM;QACNC,IAAI;QACJC,OAAO;QACPO,MAAM,EAAEN,cAAc,CAACM;MAC3B,CAAC,CAAC;MAEF,MAAMC,YAAY,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAC1C,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAACH,YAAY,CAACI,OAAO,CAAC;MAC/B;MACA,OAAOJ,YAAY;IACvB,CAAC,QAAMK,GAAG,EAAC;MACPpB,QAAQ,CAACoB,GAAG,CAACD,OAAO,CAAC;IACzB;IAEZrB,YAAY,CAAC,KAAK,CAAC;EAEf,CAAC,EAAC,EAAE,CAAC;EAEL,MAAMuB,UAAU,GAAGA,CAAA,KAAI;IACnBrB,QAAQ,CAAC,IAAI,CAAC;EAClB,CAAC;EAEDN,SAAS,CAAC,MAAI;IACV,OAAO,MAAI;MACPO,kBAAkB,CAACS,OAAO,CAACY,OAAO,CAACC,SAAS,IAAIA,SAAS,CAACA,SAAS,CAAC,CAAC,CAAC;IAC1E,CAAC;EACL,CAAC,EAAC,EAAE,CAAC;EAEL,OAAM;IAAC1B,SAAS;IAAEE,KAAK;IAAEI,WAAW;IAAEkB;EAAU,CAAC;AACrD,CAAC;AAACzB,EAAA,CA3CWD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}